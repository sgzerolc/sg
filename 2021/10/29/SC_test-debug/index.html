<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="everything is hard. ¶R3 测试 Goal: systematic testing 验证包括：  formal reasoning:verification caonstructs a formal proof that a program is correct. code review: have others read your code Testing  ¶测试很难👀">
<meta property="og:type" content="article">
<meta property="og:title" content="SC test&amp;debug">
<meta property="og:url" content="https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/index.html">
<meta property="og:site_name" content="steins gate zero">
<meta property="og:description" content="everything is hard. ¶R3 测试 Goal: systematic testing 验证包括：  formal reasoning:verification caonstructs a formal proof that a program is correct. code review: have others read your code Testing  ¶测试很难👀">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-28T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-27T02:10:47.914Z">
<meta property="article:author" content="Sam Li">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/sg/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/sg/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/sg/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>SC test&amp;debug</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/sg/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/sg/">Home</a></li><!--
     --><!--
       --><li><a href="/sg/about/">About</a></li><!--
     --><!--
       --><li><a href="/sg/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/sg/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/sg/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/sg/CV/">CV</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/sg/2021/11/04/SC_programming/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/sg/2021/10/20/SC_concurrency/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&text=SC test&amp;debug"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&is_video=false&description=SC test&amp;debug"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SC test&amp;debug&body=Check out this article: https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&name=SC test&amp;debug&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&t=SC test&amp;debug"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#R3-%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text">R3 测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%BE%88%E9%9A%BE%F0%9F%91%80"><span class="toc-number">1.1.</span> <span class="toc-text">测试很难👀</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E4%BC%98%E5%85%88%E7%BC%96%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">测试优先编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">系统式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E9%80%89%E6%8B%A9%E6%B5%8B%E8%AF%95%E6%A0%B7%E4%BE%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">&gt; 分区选择测试样例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-JUnit"><span class="toc-number">1.3.2.</span> <span class="toc-text">&gt; 自动化单元测试: JUnit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88"><span class="toc-number">1.3.3.</span> <span class="toc-text">&gt; 记录测试方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">测试方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%BB%E7%92%83%E7%AE%B1%E5%92%8C%E9%BB%91%E7%AE%B1%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.1.</span> <span class="toc-text">&gt; 玻璃箱和黑箱测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E5%BA%A6"><span class="toc-number">1.4.2.</span> <span class="toc-text">&gt; 覆盖度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E5%92%8C%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.3.</span> <span class="toc-text">&gt; 单元和集成测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9B%9E%E5%BD%92%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.4.</span> <span class="toc-text">&gt; 自动化回归测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R9-%E9%81%BF%E5%85%8D%E8%B0%83%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text">R9: 避免调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E"><span class="toc-number">2.1.</span> <span class="toc-text">声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R13-debugging"><span class="toc-number">3.</span> <span class="toc-text">R13: debugging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E7%8E%B0%E9%97%AE%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">复现问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%91%E5%AD%A6%E5%AE%9E%E9%AA%8C%E6%B3%95%E5%AF%BB%E6%89%BE%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">科学实验法寻找问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A0%94%E7%A9%B6%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.</span> <span class="toc-text">1.研究数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%90%E5%87%BA%E5%81%87%E8%AE%BE"><span class="toc-number">3.4.</span> <span class="toc-text">2.提出假设</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9E%E9%AA%8C"><span class="toc-number">3.5.</span> <span class="toc-text">3.实验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%87%8D%E5%A4%8D"><span class="toc-number">3.6.</span> <span class="toc-text">4.重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E5%A4%8D%E9%97%AE%E9%A2%98"><span class="toc-number">3.7.</span> <span class="toc-text">修复问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">3.8.</span> <span class="toc-text">Tips</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-v2"><span class="toc-number">3.9.</span> <span class="toc-text">总结</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        SC test&amp;debug
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Sam Li</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-10-28T16:00:00.000Z" itemprop="datePublished">2021-10-29</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/sg/categories/software-engineering/">software engineering</a> › <a class="category-link" href="/sg/categories/software-engineering/6-031-software-construction/">6.031 software construction</a>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>everything is hard.</p>
<h2 id="R3-测试"><a class="header-anchor" href="#R3-测试">¶</a>R3 测试</h2>
<p>Goal: systematic testing</p>
<p>验证包括：</p>
<ul>
<li>formal reasoning:verification caonstructs a formal proof that a program is correct.</li>
<li>code review: have others read your code</li>
<li>Testing</li>
</ul>
<h3 id="测试很难👀"><a class="header-anchor" href="#测试很难👀">¶</a>测试很难👀</h3>
<ul>
<li>暴力测试很难进行</li>
<li>haphazard testing(just try it and see if it works)如果程序的错误不明显很难被随意选择的测试例子发现，而假如那么明显程序中只会含有更多错误
<ul>
<li>我一般就是这种？所以根本不会写测试</li>
</ul>
</li>
<li>Random or statistical testing：软件测试在可能的输入项中是不连续和离散的。</li>
</ul>
<h3 id="测试优先编程"><a class="header-anchor" href="#测试优先编程">¶</a>测试优先编程</h3>
<ul>
<li>terms: module, spec, implementation, test case, test suite</li>
<li>Steps
<ul>
<li>Spec: types of parameters and constraints, type of return value and how return value relates to the inputs</li>
<li>Test: write tests that exercise the spec</li>
<li>Implement: write the implementation</li>
</ul>
</li>
<li>先写测试。拖到最后测试找bug会很痛苦😖</li>
</ul>
<h3 id="系统式编程"><a class="header-anchor" href="#系统式编程">¶</a>系统式编程</h3>
<p>Goal</p>
<ul>
<li>correct: 当运行时通过所有测试</li>
<li>thorough：有漏洞时报错</li>
<li>Small</li>
</ul>
<h4 id="分区选择测试样例"><a class="header-anchor" href="#分区选择测试样例">¶</a>&gt; 分区选择测试样例</h4>
<ul>
<li>
<p>divide the input space into subdomains, which form a partition</p>
</li>
<li>
<p>Include boundaries in the partition</p>
<ul>
<li>Bugs happen at boundaries
<ul>
<li>0, empty, null</li>
<li>Maximum and minimum</li>
<li>Emptiness for collection types</li>
<li>first and last element of a sequence</li>
</ul>
</li>
<li>why bugs happen at boundaries?
<ul>
<li>Off-by-one mistake</li>
<li>Special case</li>
<li>places of discontinuity in the code’s behavior</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Use multiple partitions</p>
<ul>
<li>如何划分space of input
<ul>
<li>Cartesian-product</li>
<li>独立地看，然后再考虑交互产生的效果</li>
<li>Smaller test suit as possible to cover the input space</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="自动化单元测试-JUnit"><a class="header-anchor" href="#自动化单元测试-JUnit">¶</a>&gt; 自动化单元测试: JUnit</h4>
<ul>
<li>
<p>Unit test: tests for every individual module</p>
</li>
<li>
<p>all JUnit assertions that compare values: expected first, actual second</p>
</li>
<li>
<p>Every assertion method accepts an optional message argument which will show when error happens</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assertTrue(..., <span class="string">&quot;...&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="记录测试方案"><a class="header-anchor" href="#记录测试方案">¶</a>&gt; 记录测试方案</h4>
<ul>
<li>document the partitions and subdomains at the top of test class</li>
<li>For each test case: comment which subdomains it covers</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Multiply</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * Testing strategy</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * cover the cartesian product of these partitions:</span></span><br><span class="line"><span class="comment">   *   partition on a: positive, negative, 0</span></span><br><span class="line"><span class="comment">   *   partition on b: positive, negative, 0</span></span><br><span class="line"><span class="comment">   *   partition on a: 1, !=1</span></span><br><span class="line"><span class="comment">   *   partition on b: 1, !=1</span></span><br><span class="line"><span class="comment">   *   partition on a: small (fits in a long value), or large (doesn&#x27;t fit)</span></span><br><span class="line"><span class="comment">   *   partition on b: small, large</span></span><br><span class="line"><span class="comment">   * </span></span><br><span class="line"><span class="comment">   * cover the subdomains of these partitions:</span></span><br><span class="line"><span class="comment">   *   partition on signs of a and b:</span></span><br><span class="line"><span class="comment">   *      both positive</span></span><br><span class="line"><span class="comment">   *      both negative</span></span><br><span class="line"><span class="comment">   *      different signs</span></span><br><span class="line"><span class="comment">   *      one or both are 0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// covers a is positive, b is negative, </span></span><br><span class="line">  <span class="comment">//        a fits in long value, b fits in long value,</span></span><br><span class="line">  <span class="comment">//        a and b have different signs</span></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDifferentSigns</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      assertEquals(BigInteger.valueOf(-<span class="number">146</span>), BigInteger.valueOf(<span class="number">73</span>).multiply(BigInteger.valueOf(-<span class="number">2</span>)));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// covers a = 1, b != 1, a and b have same sign</span></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIdentity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      assertEquals(BigInteger.valueOf(<span class="number">33</span>), BigInteger.valueOf(<span class="number">1</span>).multiply(BigInteger.valueOf(<span class="number">33</span>)));</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试方法"><a class="header-anchor" href="#测试方法">¶</a>测试方法</h3>
<h4 id="玻璃箱和黑箱测试"><a class="header-anchor" href="#玻璃箱和黑箱测试">¶</a>&gt; 玻璃箱和黑箱测试</h4>
<ul>
<li>
<p>Goal: full test cases</p>
</li>
<li>
<p>Difference:</p>
<ul>
<li>black box testing means choosing test cases only from the specification</li>
<li>Glass box chooses test cases from the implementation of the function</li>
</ul>
</li>
</ul>
<h4 id="覆盖度"><a class="header-anchor" href="#覆盖度">¶</a>&gt; 覆盖度</h4>
<ul>
<li>statement coverage: every statement
<ul>
<li>Coverage tool: counts the number of times each statement is run by your test suite</li>
</ul>
</li>
<li>Branch coverage: if/while/…, both the true and false direction</li>
<li>path coverage:combinations of branches</li>
</ul>
<h4 id="单元和集成测试"><a class="header-anchor" href="#单元和集成测试">¶</a>&gt; 单元和集成测试</h4>
<ul>
<li>Unit test a single module in isolation</li>
<li>integration test tests a combination of modules</li>
<li>Isolating a higher-level module is hard
<ul>
<li>write stub versions of the modules that it calls: mock object</li>
</ul>
</li>
</ul>
<h4 id="自动化回归测试"><a class="header-anchor" href="#自动化回归测试">¶</a>&gt; 自动化回归测试</h4>
<ul>
<li>
<p>Regression test: test new changes to the code against existing test cases</p>
<ul>
<li>new changes: fix bugs, add new features, optimization</li>
<li>a test is good if it elicits a bug</li>
<li>save regression tests: avoid reintroducing the bug</li>
<li>Test-first debugging</li>
</ul>
</li>
<li>
<p>automated test: running the tests and checking the results automatically</p>
<ul>
<li>Test driver</li>
<li>using junits</li>
</ul>
</li>
<li>
<p>Automate regeression test: use in combination</p>
</li>
</ul>
<h3 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h3>
<p>迭代式测试优先编程：</p>
<ol>
<li>Practice</li>
</ol>
<ul>
<li>Write spec</li>
<li>write test that exercise the spec. As u find problems, iterate on the spec and the tests</li>
<li>Write an implementation. As u find problems, iterate on the spec, the tests, and the implementation</li>
</ul>
<ol start="2">
<li>writing tests to understand the spec and fix specs</li>
<li>Plan for iteration</li>
</ol>
<ul>
<li>large spec:  先写一部分spec，然后写测试和实现那一部分，迭代此步骤</li>
<li>Complex test suite: 选择少部分重要的写一个小的测试集，再写一个简单的实现通过测试，迭代</li>
<li>tricky implementation： 先暴力写个解法通过测试以确定真的理解了spec和测试。then move on to the harder implementation.</li>
</ul>
<h2 id="R9-避免调试"><a class="header-anchor" href="#R9-避免调试">¶</a>R9: 避免调试</h2>
<p>first defense: make bugs impossible</p>
<ul>
<li>by immutability</li>
<li>static checking.</li>
</ul>
<p>second defense:localize bugs</p>
<ul>
<li>
<p>by <strong>defensive programming</strong> such as throwing exception when checking preconditions</p>
</li>
<li>
<p>By incremental development</p>
<p>一点点写，写一点测试一点（单元测试和回归测试）</p>
</li>
<li>
<p>By modularity</p>
<blockquote>
<p><strong>Modularity</strong> means dividing up a system into components, or modules, each of which can be designed, implemented, tested, reasoned about, and reused separately from the rest of the system.</p>
</blockquote>
</li>
<li>
<p>encapsulation</p>
<blockquote>
<p><strong>Encapsulation</strong> means building walls around a module so that the module is responsible for its own internal behavior, and bugs in other parts of the system can’t damage its integrity.</p>
</blockquote>
<ul>
<li>
<p>Access control: use “public, private, protect” to control the visibility and accessibility of the variables and methods.</p>
</li>
<li>
<p>variable scope: minimize the scope of variables</p>
<ul>
<li>
<p>Always declare a loop variable in the for-loop initializer.</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br></pre></td></tr></table></figure>
<p>Better:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li>
<p>Declare a variable only when you first need it, and in the innermost curly-brace block that you can.</p>
</li>
<li>
<p>Avoid global variables.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="声明"><a class="header-anchor" href="#声明">¶</a>声明</h3>
<blockquote>
<p>java tips:<strong>A serious problem with Java assertions is that assertions are off by default.</strong></p>
<p>由于assertion需要额外的时间消耗检视数据，所以在运行时关掉但在测试时最好打开以定位可能的程序设计错误。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAssertionsEnabled</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    assertThrows(AssertionError.class, () -&gt; &#123; <span class="keyword">assert</span> <span class="keyword">false</span>; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>what to assert?</p>
<ul>
<li>Method argument requirements: like preconditions</li>
<li>method return value requirements: postconditions</li>
</ul>
<p>when to assert?</p>
<ul>
<li>As you write the code, you can still remember the invariants of the program.</li>
</ul>
<p>what not to assert?</p>
<ul>
<li>
<p>external conditions</p>
<blockquote>
<p>外界条件比如文件是否存在，网络可用性，输入数据的正确性。assertion应该考虑的是程序是否能符合spec的规范。</p>
<p>When an assertion fails, it indicates that the program has run off the rails in some sense, into a state in which it was not designed to function properly.</p>
</blockquote>
</li>
<li>
<p>Expression whether is executed</p>
</li>
<li>
<p>conditional statements cover all the possible cases: instead, throw an exception in the illegal cases when checking</p>
</li>
</ul>
<h2 id="R13-debugging"><a class="header-anchor" href="#R13-debugging">¶</a>R13: debugging</h2>
<p>learn the systematic debugging techniques.</p>
<h3 id="复现问题"><a class="header-anchor" href="#复现问题">¶</a>复现问题</h3>
<p>Have a test case for the bug, and make this test work.</p>
<blockquote>
<p>First work on <u>reducing the size of the buggy input</u> to something manageable that still exhibits the same (or very similar) bug.</p>
</blockquote>
<h3 id="科学实验法寻找问题"><a class="header-anchor" href="#科学实验法寻找问题">¶</a>科学实验法寻找问题</h3>
<p>Problem: where is the bug?</p>
<p>scientific methods:</p>
<h3 id="1-研究数据"><a class="header-anchor" href="#1-研究数据">¶</a>1.研究数据</h3>
<p>查看测试输入导致的问题，检查错误结果，失败声明，和stack traces</p>
<h3 id="2-提出假设"><a class="header-anchor" href="#2-提出假设">¶</a>2.提出假设</h3>
<p>think about your program as a flow of data, or steps in an algorithm, and try to rule out whole sections of the program at once. Binary search can help minimize the search space.</p>
<ul>
<li>
<p>Slicing:找到产生出一个特定值的所有计算部分。</p>
<p>如果该计算错误则问题出现在这一部分的某一步骤，那么从错误的结果出发回溯代码中涉及到的所有部分。有利的设计选择有助于帮助缩小检索范围。比如：immutability,这提示我们这一变量是否会受代码的其他部分影响，不过应该注意final修饰的限定变量的不同（final int bonus vs. final Sale s, 尽管s不会重新赋值，但Sale仍可能会改变从而影响s)；scope minimization, 比如local variable和global variable。</p>
<blockquote>
<p>With instance variables, the slicing search might have to expand to include the entire class. For a global variable (gasp), the search expands to include the entire program.</p>
</blockquote>
</li>
<li>
<p>Delta debugging: it uncovers two closely-related test cases that bracket the bug, in the sense that one succeeds and one fails.One hypothesis is that the bug lies in those lines of code, the <em>delta</em> between the passing run and the failing run.</p>
<p>利用版本控制来比较两种情况（A成功，B失败；A失败，B成功）下代码的改变情况，知道找到导致出错的问题。</p>
</li>
<li>
<p>prioritize hypotheses: trust lower levels code until you’ve found good reason not to. Like: java compiler and runtime, os, hardware&gt;well-tested code &gt; your code.</p>
<p>比如在db pj0 autograder导致的一系列问题，实际上是对smart pointer的部分使用不熟。</p>
</li>
</ul>
<h3 id="3-实验"><a class="header-anchor" href="#3-实验">¶</a>3.实验</h3>
<p>Make a prediction and test it. The best experiment is a probe.</p>
<ul>
<li>
<p>print debugging</p>
<ul>
<li>
<p>print statement: write good debugging print statement to keep track of code</p>
<p>需要注意在测试完成后除去print statement</p>
</li>
<li>
<p>Logging</p>
<p>能够从全局用变量控制是否启用logging</p>
<blockquote>
<p>A logging framework like <a target="_blank" rel="noopener" href="https://logging.apache.org/log4j/">Log4j</a> can also direct the logging to a file or to a server across the network, can log structured data as well as human-readable strings, and can be used in deployment, not just development.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>assertion</p>
<p>好处是不用手动检查变量，只用设置条件。</p>
</li>
<li>
<p>breakpoint with a debugger like gdb</p>
</li>
</ul>
<p>对一些方法的分析：</p>
<ul>
<li>
<p>Swap components: don’t do it unless you have good reasons</p>
<blockquote>
<p>If you hypothesize that the bug is in a module, a different implementation of it that satisfies the same interface, then one experiment you can do is to try swapping in the alternative.</p>
<ul>
<li>If you suspect your <code>binarySearch()</code> implementation, then substitute a simpler <code>linearSearch()</code> instead.</li>
<li>If you suspect <code>java.util.ArrayList</code>, swap in <code>java.util.LinkedList</code> instead.</li>
</ul>
</blockquote>
</li>
<li>
<p>one bug at a time</p>
<ul>
<li>
<p>keep a bug list</p>
</li>
<li>
<p>Don’t get distracted from the bug you’re working on.Keep your code changes focused on careful,controlled probes of one bug at a time.</p>
<p>a bug can be reproduce another bug and get into recursive debugging process which is bad cause you don’t know how those changes might affect your debugging experiments.</p>
<blockquote>
<p>because you may have a hard time popping your mental stack to return to the original bug. And don’t edit your code arbitrarily while you are debugging, because you don’t know whether those changes might affect your debugging experiments.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>don’t fix yet: mere probe &gt; fix the hypothesized bug</p>
<p>fix the real problem.</p>
<p>你可能只是掩盖了错误而不是找到了真正的问题所在。我觉得我在db pj1遇到的就是这样。</p>
</li>
</ul>
<h3 id="4-重复"><a class="header-anchor" href="#4-重复">¶</a>4.重复</h3>
<p>重复以上步骤，如果假设正确缩小产生错误的可能区域，假设错误修改假设以适应观察。</p>
<ul>
<li>
<p>When to apply this method? 10-minute rule. 十分钟肉眼调试调不出来就用</p>
</li>
<li>
<p>Taking note during this process:</p>
</li>
</ul>
<blockquote>
<ul>
<li><em>Hypothesis.</em> Based on what you’ve learned so far, what’s your next hypothesis about the location or cause of the bug?</li>
<li><em>Experiment.</em> What are you about to try that will shed light on the hypothesis, by verifying or falsifying it?</li>
<li><em>Predictions.</em> What do you expect, based on your hypothesis, to be the result of the experiment?</li>
<li><em>Observations.</em> What actually happened when you did the experiment?</li>
</ul>
</blockquote>
<h3 id="修复问题"><a class="header-anchor" href="#修复问题">¶</a>修复问题</h3>
<p>直到你找到问题并理解导致原因时，再修改代码。</p>
<p>先问问题是哪种类型的：</p>
<ul>
<li>coding error
<ul>
<li>Misspelled variable/interchanged method parameters</li>
</ul>
</li>
<li>design error -&gt; step back and revisit your design
<ul>
<li>Underspecified or insufficient interface</li>
</ul>
</li>
</ul>
<p>Method：</p>
<ul>
<li>
<p>Look for related bugs, and newly-created ones.</p>
</li>
<li>
<p>Undo debugging probes.</p>
</li>
<li>
<p>Make a regression test</p>
<blockquote>
<p>make sure that :</p>
<p>(a) the bug is fixed</p>
<p>(b)no new bugs have been introduced</p>
</blockquote>
</li>
</ul>
<h3 id="Tips"><a class="header-anchor" href="#Tips">¶</a>Tips</h3>
<ul>
<li>
<p>Keep an audit trail: 当进行了很多次科学实验的循环（肉眼调试）找bug</p>
<p>keep a log in a text file of what you dit, in what order, and what happened as a result.</p>
<blockquote>
<ul>
<li>the hypothesis you are exploring now</li>
<li>the experiment you are trying now to test that hypothesis</li>
<li>what you observe as a result of the experiment:
<ul>
<li>whether the test passed or failed this time</li>
<li>the program output, especially your own debugging messages</li>
<li>any stack traces</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li>
<p>check the plug</p>
<p>当反复迭代找问题仍然不可解时，可以怀疑是不是assumption（外置条件）错了。就像电脑无法启动怀疑插头没插电源没开没电了而不是怀疑机器或者开关坏了。比如db的autograder只支持当年的project（函数名正确）。</p>
<ul>
<li>Make sure your source code and object code are up to date.</li>
</ul>
</li>
<li>
<p>if YOU didn’t fix it, it isn’t really fixed</p>
<p>当你并没有明白问题为什么消失时，问题并没有真正解决而只是暂时藏了起来。尤其在并行编程出现问题的时候。</p>
<p>因此系统的调试帮助我们理解为什么问题被解决而不是暂时隐藏问题。这就是最初要先让问题显现的原因，你必须在问题仍没被解决是发现导致问题的原因，知道你真正理解自己在做什么。</p>
<blockquote>
<p>you want to see that your change caused the system to transition from failing to working, and understand why.</p>
</blockquote>
</li>
<li>
<p>Get a fresh view</p>
<p>小黄鸭测试法。解释为什么你的代码可以运行，它在做什么。</p>
<p>小黄鸭-&gt;知道你在做什么的同事-&gt;staff/mentor</p>
<ul>
<li>Minimizing your bug will help you make a minimal,reproducible example to throw at stackoverflow.</li>
</ul>
</li>
<li>
<p>Sleep on it. Trade latency for efficiency</p>
</li>
</ul>
<h3 id="总结-v2"><a class="header-anchor" href="#总结-v2">¶</a>总结</h3>
<blockquote>
<p>In this reading, we looked at how to debug systematically:</p>
<ul>
<li>reproduce the bug as a test case, and put it in your regression suite</li>
<li>find the bug using the scientific method:
<ul>
<li>generate hypotheses using slicing, binary search, and delta debugging</li>
<li>use minimially-invasive probes, like print statements, assertions, or a debugger, to observe program behavior and test the prediction of your hypotheses</li>
</ul>
</li>
<li>fix the bug thoughtfully</li>
</ul>
</blockquote>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/sg/">Home</a></li>
         
          <li><a href="/sg/about/">About</a></li>
         
          <li><a href="/sg/tags/">Tag</a></li>
         
          <li><a href="/sg/categories/">Category</a></li>
         
          <li><a href="/sg/archives/">Writing</a></li>
         
          <li><a href="/sg/CV/">CV</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#R3-%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text">R3 测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%BE%88%E9%9A%BE%F0%9F%91%80"><span class="toc-number">1.1.</span> <span class="toc-text">测试很难👀</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E4%BC%98%E5%85%88%E7%BC%96%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">测试优先编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">系统式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E9%80%89%E6%8B%A9%E6%B5%8B%E8%AF%95%E6%A0%B7%E4%BE%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">&gt; 分区选择测试样例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-JUnit"><span class="toc-number">1.3.2.</span> <span class="toc-text">&gt; 自动化单元测试: JUnit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88"><span class="toc-number">1.3.3.</span> <span class="toc-text">&gt; 记录测试方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">测试方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%BB%E7%92%83%E7%AE%B1%E5%92%8C%E9%BB%91%E7%AE%B1%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.1.</span> <span class="toc-text">&gt; 玻璃箱和黑箱测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E5%BA%A6"><span class="toc-number">1.4.2.</span> <span class="toc-text">&gt; 覆盖度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E5%92%8C%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.3.</span> <span class="toc-text">&gt; 单元和集成测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9B%9E%E5%BD%92%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.4.</span> <span class="toc-text">&gt; 自动化回归测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R9-%E9%81%BF%E5%85%8D%E8%B0%83%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text">R9: 避免调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E"><span class="toc-number">2.1.</span> <span class="toc-text">声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R13-debugging"><span class="toc-number">3.</span> <span class="toc-text">R13: debugging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E7%8E%B0%E9%97%AE%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">复现问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%91%E5%AD%A6%E5%AE%9E%E9%AA%8C%E6%B3%95%E5%AF%BB%E6%89%BE%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">科学实验法寻找问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A0%94%E7%A9%B6%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.</span> <span class="toc-text">1.研究数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%90%E5%87%BA%E5%81%87%E8%AE%BE"><span class="toc-number">3.4.</span> <span class="toc-text">2.提出假设</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9E%E9%AA%8C"><span class="toc-number">3.5.</span> <span class="toc-text">3.实验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%87%8D%E5%A4%8D"><span class="toc-number">3.6.</span> <span class="toc-text">4.重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E5%A4%8D%E9%97%AE%E9%A2%98"><span class="toc-number">3.7.</span> <span class="toc-text">修复问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tips"><span class="toc-number">3.8.</span> <span class="toc-text">Tips</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-v2"><span class="toc-number">3.9.</span> <span class="toc-text">总结</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&text=SC test&amp;debug"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&is_video=false&description=SC test&amp;debug"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=SC test&amp;debug&body=Check out this article: https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&title=SC test&amp;debug"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&name=SC test&amp;debug&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://sgzerolc.github.io/sg/2021/10/29/SC_test-debug/&t=SC test&amp;debug"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022
    Sam Li
  </div>
</footer>


    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/sg/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
