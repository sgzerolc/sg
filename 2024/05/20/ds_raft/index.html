<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Lab 1 Lab 2 Lab 3 Lab 4 Go basics  Threads RPC Types      Lab 1¶ Lab 2¶ Lab 3¶ Lab 4¶ Go basics¶ 12go build xx.gogo run xx.go  Go is better than C++ in a way of threads (goroutines) and garbage col">
<meta property="og:type" content="article">
<meta property="og:title" content="&lt;DS Lab Notes">
<meta property="og:url" content="https://sgzerolc.github.io/sg/2024/05/20/ds_raft/index.html">
<meta property="og:site_name" content="steins gate zero">
<meta property="og:description" content="Lab 1 Lab 2 Lab 3 Lab 4 Go basics  Threads RPC Types      Lab 1¶ Lab 2¶ Lab 3¶ Lab 4¶ Go basics¶ 12go build xx.gogo run xx.go  Go is better than C++ in a way of threads (goroutines) and garbage col">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-05-19T22:00:00.000Z">
<meta property="article:modified_time" content="2024-04-12T12:15:54.858Z">
<meta property="article:author" content="Sam Li">
<meta property="article:tag" content="lab">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/sg/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/sg/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/sg/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>&lt;DS Lab Notes</title><meta name="robots" content="noindex">
    <!-- styles -->
    
<link rel="stylesheet" href="/sg/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/sg/">Home</a></li><!--
     --><!--
       --><li><a href="/sg/about/">About</a></li><!--
     --><!--
       --><li><a href="/sg/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/sg/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/sg/CV/">CV</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&text=&lt;DS Lab Notes"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&is_video=false&description=&lt;DS Lab Notes"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=&lt;DS Lab Notes&body=Check out this article: https://sgzerolc.github.io/sg/2024/05/20/ds_raft/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&name=&lt;DS Lab Notes&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&t=&lt;DS Lab Notes"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Lab 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">Lab 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">Lab 3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">Lab 4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">Go basics</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.1.</span> <span class="toc-text">Threads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.2.</span> <span class="toc-text">RPC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.3.</span> <span class="toc-text">Types</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        &lt;DS Lab Notes
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Sam Li</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-05-19T22:00:00.000Z" itemprop="datePublished">2024-05-20</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/sg/categories/computer-systems/">computer systems</a> › <a class="category-link" href="/sg/categories/computer-systems/6-824-distributed-systems/">6.824 distributed systems</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/sg/tags/lab/" rel="tag">lab</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <div class="toc">
<!-- toc -->
<ul>
<li><a href="#lab-1">Lab 1</a></li>
<li><a href="#lab-2">Lab 2</a></li>
<li><a href="#lab-3">Lab 3</a></li>
<li><a href="#lab-4">Lab 4</a></li>
<li><a href="#go-basics">Go basics</a>
<ul>
<li><a href="#threads">Threads</a></li>
<li><a href="#rpc">RPC</a></li>
<li><a href="#types">Types</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
</div>
<h2><span id="lab-1">Lab 1</span><a href="#lab-1" class="header-anchor">¶</a></h2>
<h2><span id="lab-2">Lab 2</span><a href="#lab-2" class="header-anchor">¶</a></h2>
<h2><span id="lab-3">Lab 3</span><a href="#lab-3" class="header-anchor">¶</a></h2>
<h2><span id="lab-4">Lab 4</span><a href="#lab-4" class="header-anchor">¶</a></h2>
<h2><span id="go-basics">Go basics</span><a href="#go-basics" class="header-anchor">¶</a></h2>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> build xx.<span class="keyword">go</span></span><br><span class="line"><span class="keyword">go</span> run xx.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>
<ol>
<li>Go is better than C++ in a way of <strong>threads (goroutines)</strong> and garbage collection.</li>
<li>The go runtime executes goroutines on all available cores in parallel. If the cores are less than runnable goroutines, the runtime will <u>pre-emptively time-share</u> the cores among threads.</li>
<li>Channels are <u>synchorinized</u> between many threads. It means that some goroutine should be waiting when a goroutine sends a message on the channel. At a high level, consider a channel as a struct holding a buffer and a lock.</li>
<li>Go’s sync.Cond, conditional variables.</li>
<li>Go’s select</li>
<li>sync.WaitGroup: waits for multiple threads to finish.</li>
<li>Do a periotic task: time.Sleep()</li>
<li>The view of performance on threads:
<ul>
<li>how many threads can be run in parallel? If the machine has 16 cores, then it’s 16 threads (goroutines).</li>
<li>how many threads are needed to take up the full capacity of one service? (100/(100*0.1) = 10 threads)</li>
</ul>
</li>
<li>Channels only work within one program. RPC allows talking to other programs over the internet.</li>
<li>A slice contains a pointer to an array, a start and end index to the array. It is more flexible than go array.</li>
<li>Printf is a common debugging tool.</li>
<li>synchronous RPC calls vs asynchronous RPC calls
<ul>
<li>It depends which one and when needs the reply. When the reply is needed to proceed, use synchronous calls. However, in a server-client model, the client can launch many RPCs by asynchronous calls, giving the client has other tasks on its plate or the connection to server is broken from time to time.</li>
<li>Send one RPC without waiting for the result: create a goroutine and have it make a synchronous call to wait.</li>
</ul>
</li>
<li>Go has generics for what c++ style inheritance support.</li>
<li>A mutex in a struct cannot be made a value receiver.  The mutex is copied and loses its purpose.</li>
<li>xx</li>
</ol>
<h3><span id="threads">Threads</span><a href="#threads" class="header-anchor">¶</a></h3>
<ol>
<li>
<p>per-thread state: program counter, stack, registers, returned value</p>
</li>
<li>
<p>alternative to threads: event-driven: code that explicitly interleaves activities, in a single thread</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">func isYellow() &#123;</span><br><span class="line">	while true:</span><br><span class="line">		wait_for(Yellow)</span><br><span class="line">		return</span><br><span class="line">&#125;</span><br><span class="line">func isWhite() &#123;</span><br><span class="line">	while true:</span><br><span class="line">		wait_for(White)</span><br><span class="line">		return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">	while events &#123;</span><br><span class="line">		isYellow(evens_i)</span><br><span class="line">		isWhite(events_i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>keep a table of state about each activities</li>
<li>one event loop checks for new input, advances to next step and updates state.</li>
<li>the good side is getting I/O concurrency without thread costs. The bad side is no real multi-core speedup and hard to program.</li>
</ul>
</li>
<li>
<p>xx</p>
</li>
</ol>
<h3><span id="rpc">RPC</span><a href="#rpc" class="header-anchor">¶</a></h3>
<h3><span id="types">Types</span><a href="#types" class="header-anchor">¶</a></h3>
<p>Character sets: ASCII: 0-127; Unicode defines code point.</p>
<p>UTF-8 encoding: English remains the same. The char under 128 takes up one byte. Only char &gt;=128 will take &gt;= 2 bytes.</p>
<p>The problem is how many bytes should a char consume? To interpret a string, we need to know how it is encoded first. Go uses UTF-8 encoding.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span></span><br><span class="line"><span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span>  <span class="type">int8</span>  <span class="type">int16</span>  <span class="type">int32</span>  <span class="type">int64</span></span><br><span class="line"><span class="type">uint</span> <span class="type">uint8</span> <span class="type">uint16</span> <span class="type">uint32</span> <span class="type">uint64</span> <span class="type">uintptr</span></span><br><span class="line"></span><br><span class="line"><span class="type">byte</span> <span class="comment">// alias for uint8</span></span><br><span class="line"><span class="type">rune</span> <span class="comment">// alias for int32; represents a Unicode code point</span></span><br><span class="line"><span class="type">float32</span> <span class="type">float64</span></span><br><span class="line"><span class="type">complex64</span> <span class="type">complex128</span></span><br></pre></td></tr></table></figure>
<p><code>fmt.Printf()</code> prints the string, while <code>fmt.Sprintf()</code> creates a string and returns it.</p>
<p>style: naming, go uses camel style while c uses snake style.</p>
<p>Reference:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://go.dev/doc/tutorial/getting-started">go tutorial</a>, a tour of go, <a target="_blank" rel="noopener" href="https://gobyexample.com/">gobyexample</a></li>
</ol>
<!-- flag of hidden posts -->
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/sg/">Home</a></li>
         
          <li><a href="/sg/about/">About</a></li>
         
          <li><a href="/sg/categories/">Category</a></li>
         
          <li><a href="/sg/archives/">Writing</a></li>
         
          <li><a href="/sg/CV/">CV</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Lab 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">Lab 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">Lab 3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">Lab 4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">Go basics</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.1.</span> <span class="toc-text">Threads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.2.</span> <span class="toc-text">RPC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">5.3.</span> <span class="toc-text">Types</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&text=&lt;DS Lab Notes"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&is_video=false&description=&lt;DS Lab Notes"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=&lt;DS Lab Notes&body=Check out this article: https://sgzerolc.github.io/sg/2024/05/20/ds_raft/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&title=&lt;DS Lab Notes"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&name=&lt;DS Lab Notes&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://sgzerolc.github.io/sg/2024/05/20/ds_raft/&t=&lt;DS Lab Notes"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024
    Sam Li
  </div>
</footer>


    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/sg/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
